(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"41b5":function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=wx.getUpdateManager(),a={globalData:{text:"text"},onLaunch:function(t){var o=this;wx.getStorageSync("logs");1007==t.scene||1008==t.scene?this.$options.globalData.share=!0:this.$options.globalData.share=!1,wx.getSystemInfo({success:function(t){-1!=t.model.search("iPhone X")?o.$options.globalData.isIphoneX=!0:o.$options.globalData.isIphoneX=!1,o.$options.globalData.height=t.statusBarHeight},fail:function(t){console.log(t)}}),wx.canIUse("getUpdateManager")&&(e.onCheckForUpdate((function(t){console.log(t.hasUpdate)})),e.onUpdateReady((function(){wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",success:function(t){if(t.confirm)e.applyUpdate();else if(t.cancel)return!1}})})),e.onUpdateFailed((function(){wx.hideLoading(),wx.showModal({title:"升级失败",content:"新版本下载失败，请检查网络！",showCancel:!1})})))},loadingShow:function(){wx.showLoading({title:"加载中"})},hideLoading:function(){wx.hideLoading()},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};o.default=a},"430f":function(t,o,n){},4650:function(t,o,n){"use strict";n.r(o);var e=n("ef62");for(var a in e)"default"!==a&&function(t){n.d(o,t,(function(){return e[t]}))}(a);n("7a8e");var i,l,c,s,u=n("f0c5"),r=Object(u["a"])(e["default"],i,l,!1,null,null,null,!1,c,s);o["default"]=r.exports},"4dc8":function(t,o,n){"use strict";(function(t){n("4e25");e(n("66fd"));var o=e(n("5c52"));function e(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])},"5c52":function(t,o,n){"use strict";n.r(o);var e=n("82ff"),a=n("e6c8");for(var i in a)"default"!==i&&function(t){n.d(o,t,(function(){return a[t]}))}(i);n("cf61");var l,c=n("f0c5"),s=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],l);o["default"]=s.exports},"7a8e":function(t,o,n){"use strict";var e=n("430f"),a=n.n(e);a.a},"82ff":function(t,o,n){"use strict";var e,a=function(){var t=this,o=t.$createElement;t._self._c},i=[];n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return e}))},b19a:function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;i(n("66fd"));var e=i(n("4650")),a=i(n("0c26"));function i(t){return t&&t.__esModule?t:{default:t}}n("8132");var l=function(){n.e("components/headerNav").then(function(){return resolve(n("912b"))}.bind(null,n)).catch(n.oe)},c=0,s=0,u={data:function(){return{data:{},page:1,height:"",iphonex:!1,scrollH:0,imgWidth:0,loadingCount:0,images:[],col1:[],col2:[],nvabarData:{showCapsule:0,title:"食典录"},pullDown:!1,offset:0,limit:20,is_weapp:1,loading:!1,title:"",isGoTop:!1,imageObj:null,col1H:0,col2H:0}},onPullDownRefresh:function(){var t=this;t.pullDown=!0,wx.vibrateShort(),wx.showNavigationBarLoading(),setTimeout((function(){wx.hideNavigationBarLoading(),wx.stopPullDownRefresh(),t.pullDown=!1,t.images=[],t.col1=[],t.col2=[],t.loadImages()}),1500)},onShow:function(){console.log(e.default.globalData)},onLoad:function(){var t=this;wx.getSystemInfo({success:function(o){var n=o.windowWidth,i=o.windowHeight;t.imgWidth=.48*n,t.scrollH=i,t.title=a.default[Math.floor(Math.random()*a.default.length)],t.height=2*e.default.globalData.height+20,t.loadImages()}})},onReachBottom:function(){this.onscrollBotm()},onPageScroll:function(t){t.scrollTop>500?this.isGoTop=!0:t.scrollTop<10&&(this.isGoTop=!1)},methods:{goTop:function(){wx.pageScrollTo({scrollTop:0,duration:300})},onError:function(t){console.log(t,145)},onImageLoad:function(t){var o=t.currentTarget.id;console.log(o);for(var n=t.detail.width,e=t.detail.height,a=this.imgWidth,i=a/n,l=e*i,u=this.images,r=null,f=0;f<u.length;f++){var d=u[f];if(d.recipe.id==o){r=d;break}}r.height=l;var h=this.loadingCount-1;c<=s?(c+=l,this.col1.push(r),console.log(l,143)):(s+=l,this.col2.push(r),console.log(l,147)),console.log(this.col2,148),this.loadingCount=h,h||(this.images=[])},loadImages:function(){var t=this,o=[],n=new Object;n.offset=t.offset,n.limit=t.limit,n.is_weapp=t.is_weapp,t.off_on=!0,this.$Api.getHomeList(n).then((function(n){if(console.log(n),n.data.content.recipes.length>0){for(var e=0;e<n.data.content.recipes.length;e++)o.push(n.data.content.recipes[e]);for(var a="img-"+ +new Date,i=0;i<o.length;i++)o[i].recipe.author.id=a+"-"+i;t.off_on=!1,t.loadingCount=o.length,t.images=o,t.page=t.page}else t.off_on=!0}))},onscrollBotm:function(){var t=this;t.off_on||(t.offset=t.offset+=20,t.loadImages())},goDetaile:function(o){t.navigateTo({url:"../cateDetaile/cateDetaile?id="+o})}},components:{headerNav:l},onShareAppMessage:function(){return{title:"今天想吃点什么？",path:"/pages/index/index"}}};o.default=u}).call(this,n("543d")["default"])},b749:function(t,o,n){},cf61:function(t,o,n){"use strict";var e=n("b749"),a=n.n(e);a.a},e6c8:function(t,o,n){"use strict";n.r(o);var e=n("b19a"),a=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=a.a},ef62:function(t,o,n){"use strict";n.r(o);var e=n("41b5"),a=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=a.a}},[["4dc8","common/runtime","common/vendor"]]]);