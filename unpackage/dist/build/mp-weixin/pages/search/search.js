(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/search"],{"06b6":function(t,e,n){"use strict";n.r(e);var a=n("65f2"),o=n("1316");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("96dc");var i,r=n("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=s.exports},"0bb3":function(t,e,n){"use strict";(function(t){n("4e25");a(n("66fd"));var e=a(n("d93c"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},1316:function(t,e,n){"use strict";n.r(e);var a=n("c672"),o=n.n(a);for(var c in a)"default"!==c&&function(t){n.d(e,t,(function(){return a[t]}))}(c);e["default"]=o.a},"1b03":function(t,e,n){"use strict";n.r(e);var a=n("4e66"),o=n.n(a);for(var c in a)"default"!==c&&function(t){n.d(e,t,(function(){return a[t]}))}(c);e["default"]=o.a},"3a47":function(t,e,n){},"41b5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=wx.getUpdateManager(),o={globalData:{text:"text"},onLaunch:function(t){var e=this;wx.getStorageSync("logs");1007==t.scene||1008==t.scene?this.$options.globalData.share=!0:this.$options.globalData.share=!1,wx.getSystemInfo({success:function(t){-1!=t.model.search("iPhone X")?e.$options.globalData.isIphoneX=!0:e.$options.globalData.isIphoneX=!1,e.$options.globalData.height=t.statusBarHeight},fail:function(t){console.log(t)}}),wx.canIUse("getUpdateManager")&&(a.onCheckForUpdate((function(t){console.log(t.hasUpdate)})),a.onUpdateReady((function(){wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",success:function(t){if(t.confirm)a.applyUpdate();else if(t.cancel)return!1}})})),a.onUpdateFailed((function(){wx.hideLoading(),wx.showModal({title:"升级失败",content:"新版本下载失败，请检查网络！",showCancel:!1})})))},loadingShow:function(){wx.showLoading({title:"加载中"})},hideLoading:function(){wx.hideLoading()},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};e.default=o},"430f":function(t,e,n){},4650:function(t,e,n){"use strict";n.r(e);var a=n("ef62");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("7a8e");var c,i,r,s,u=n("f0c5"),l=Object(u["a"])(a["default"],c,i,!1,null,null,null,!1,r,s);e["default"]=l.exports},"4e66":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(n("4650")),o=c(n("06b6"));function c(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{inputVal:"",height:"",history:[],hotList:[],nvabarData:{showCapsule:1,title:"寻味美食"},isIphoneX:!1,searchResultDatas:[]}},onLoad:function(t){var e=this;e.isIphoneX=a.default.globalData.isIphoneX,e.height=2*a.default.globalData.height+20,e.history=wx.getStorageSync("searchRecord")||[],e.hotSearchList()},onHide:function(){this.inputVal=""},comments:{searchList:o.default},methods:{hotSearchList:function(){var t=this,e=new Object;e.is_weapp=1,e.weapp_src="xcf",this.$Api.getHotListItem(e).then((function(e){console.log(e),t.hotList=e.data.content.keywords.slice(0,20)}))},inputSearch:function(t){var e=this,n=new Object;n.is_weapp=1,n.weapp_src="xcf",n.q=t.detail.value,this.inputVal=t.detail.value,t.detail.value.length>0?this.$Api.searchSelect(n).then((function(n){console.log(n);var a=n.data.content.keywords.map((function(e,n){return{key:t.detail.value,name:e,id:n}}));e.searchData=a.slice(0,10),e.searchResultDatas=n.data.content.keywords,console.log(e.searchResultDatas)})):0==t.detail.value&&(this.searchResultDatas=[])},delSelect:function(){this.searchResultDatas=[]},gosearchMsg:function(t){var e=this;console.log(t),e.searchHistory(t),wx.navigateTo({url:"../cateList/cateList?q="+t})},cancelBack:function(){this.inputVal="",this.searchResultDatas=[],wx.navigateBack({delta:1})},searchHistory:function(t){var e=wx.getStorageSync("searchRecord")||[];""!=t&&(console.log(e.length),e.length<10&&-1==e.indexOf(t)?e.unshift(t):10==e.length&&(e.pop(),e.unshift(t)),wx.setStorageSync("searchRecord",e))},delHistory:function(){var t=this;wx.showModal({title:"提示",content:"确认清除历史记录吗?",success:function(e){e.confirm?wx.removeStorage({key:"searchRecord",success:function(e){t.history=[]}}):e.cancel&&console.log("用户点击取消")}})}}};e.default=i},"5af5":function(t,e,n){"use strict";var a=n("3a47"),o=n.n(a);o.a},"5f4a":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement;t._self._c},c=[]},"65f2":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement;t._self._c},c=[]},"7a8e":function(t,e,n){"use strict";var a=n("430f"),o=n.n(a);o.a},"96dc":function(t,e,n){"use strict";var a=n("d86a"),o=n.n(a);o.a},c672:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"searchList",props:{datas:{type:Object},onTap:{type:Function}},data:function(){return{searchArray:[],keyName:""}},methods:{_propertyDataChange:function(t){var e=this.getHilightStrArray(t.name,t.key);this.keyName=t.key,this.searchArray=e},getHilightStrArray:function(t,e){return t.replace(new RegExp("".concat(e),"g"),"%%".concat(e,"%%")).split("%%")}}};e.default=a},d86a:function(t,e,n){},d93c:function(t,e,n){"use strict";n.r(e);var a=n("5f4a"),o=n("1b03");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("5af5");var i,r=n("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=s.exports},ef62:function(t,e,n){"use strict";n.r(e);var a=n("41b5"),o=n.n(a);for(var c in a)"default"!==c&&function(t){n.d(e,t,(function(){return a[t]}))}(c);e["default"]=o.a}},[["0bb3","common/runtime","common/vendor"]]]);